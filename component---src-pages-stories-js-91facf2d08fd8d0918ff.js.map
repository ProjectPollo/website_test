{"version":3,"sources":["webpack:///./src/components/layout/cover.js","webpack:///./src/styles/stories.module.css","webpack:///./node_modules/react-bootstrap/esm/PageItem.js","webpack:///./node_modules/react-bootstrap/esm/Pagination.js","webpack:///./src/pages/stories.js"],"names":["Cover","props","src","className","layoutStyles","cover","alt","fluid","text","defaultProps","module","exports","PageItem","forwardRef","_ref","ref","active","disabled","style","activeLabel","children","Component","SafeAnchor","createElement","displayName","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","bsPrefix","size","decoratedBsPrefix","Item","Stories","data","useStaticQuery","storiesN","allMarkdownRemark","edges","length","pageMax","Math","ceil","useState","page","setPage","indexLimit","setIndexLimit","useEffect","title","description","role","storiesStyles","posts","reduce","result","edge","index","push","post","key","node","id","to","fields","slug","titleLink","frontmatter","meta","date","timeToRead","featured","childImageSharp","Col","lg","excerptMargin","excerpt","abstract","pageSelector","Items","onClick","i","PageItems"],"mappings":"4FAAA,+EAKMA,EAAQ,SAAAC,GACZ,IAAsBC,EAWtB,OACE,yBAAKC,UAAcC,IAAaC,MAAlB,wBACVJ,EAAMC,MAZS,iBADCA,EAaUD,EAAMC,KAV1B,yBAAKA,IAAKA,EAAKI,IAAI,UAInB,kBAAC,IAAD,CAAKC,MAAOL,EAAKI,IAAI,WAO3BL,EAAMO,MAAQ,wBAAIL,UAAU,qBAAqBF,EAAMO,QAK/DR,EAAMS,aAAe,CACnBP,IAAK,KACLM,KAAM,MAGOR,O,qBC7BfU,EAAOC,QAAU,CAAC,MAAQ,+BAA+B,KAAO,8BAA8B,KAAO,8BAA8B,SAAW,kCAAkC,QAAU,iCAAiC,cAAgB,uCAAuC,aAAe,wC,uPCW7RC,EAAwB,IAAMC,YAAW,SAAUC,EAAMC,GAC3D,IAAIC,EAASF,EAAKE,OACdC,EAAWH,EAAKG,SAChBd,EAAYW,EAAKX,UACjBe,EAAQJ,EAAKI,MACbC,EAAcL,EAAKK,YACnBC,EAAWN,EAAKM,SAChBnB,EAAQ,YAA8Ba,EAAM,CAAC,SAAU,WAAY,YAAa,QAAS,cAAe,aAExGO,EAAYL,GAAUC,EAAW,OAASK,EAAA,EAC9C,OAAoB,IAAMC,cAAc,KAAM,CAC5CR,IAAKA,EACLG,MAAOA,EACPf,UAAW,IAAWA,EAAW,YAAa,CAC5Ca,OAAQA,EACRC,SAAUA,KAEE,IAAMM,cAAcF,EAAW,YAAS,CACtDlB,UAAW,YACXc,SAAUA,GACThB,GAAQmB,EAAUJ,GAAUG,GAA4B,IAAMI,cAAc,OAAQ,CACrFpB,UAAW,WACVgB,QAELP,EAASH,aA7BU,CACjBO,QAAQ,EACRC,UAAU,EACVE,YAAa,aA2BfP,EAASY,YAAc,WACR,QAEf,SAASC,EAAaC,EAAMC,EAAcC,GAKxC,SAASC,EAAOC,GACd,IAAIV,EAAWU,EAAMV,SACjBnB,EAAQ,YAA8B6B,EAAO,CAAC,aAElD,OAAoB,IAAMP,cAAcX,EAAUX,EAAoB,IAAMsB,cAAc,OAAQ,CAChG,cAAe,QACdH,GAAYO,GAA4B,IAAMJ,cAAc,OAAQ,CACrEpB,UAAW,WACVyB,IAIL,YAhBc,IAAVA,IACFA,EAAQF,GAcVG,EAAOL,YAAcE,EACdG,EAGF,IAAIE,EAAQN,EAAa,QAAS,KAC9BO,EAAOP,EAAa,OAAQ,IAAK,YACjCQ,EAAWR,EAAa,WAAY,IAAK,QACzCS,EAAOT,EAAa,OAAQ,KAC5BU,EAAOV,EAAa,OAAQ,KCjDnCW,EAA0B,IAAMvB,YAAW,SAAUC,EAAMC,GAC7D,IAAIsB,EAAWvB,EAAKuB,SAChBlC,EAAYW,EAAKX,UACjBiB,EAAWN,EAAKM,SAChBkB,EAAOxB,EAAKwB,KACZrC,EAAQ,YAA8Ba,EAAM,CAAC,WAAY,YAAa,WAAY,SAElFyB,EAAoB,YAAmBF,EAAU,cACrD,OAAoB,IAAMd,cAAc,KAAM,YAAS,CACrDR,IAAKA,GACJd,EAAO,CACRE,UAAW,IAAWA,EAAWoC,EAAmBD,GAAQC,EAAoB,IAAMD,KACpFlB,MAENgB,EAAWL,MAAQA,EACnBK,EAAWJ,KAAOA,EAClBI,EAAWH,SAAWA,EACtBG,EAAWI,KAAO,EAClBJ,EAAWF,KAAOA,EAClBE,EAAWD,KAAOA,EACH,QC6FAM,UArHC,WACd,IAAMC,EAAOC,yBAAe,cA+BtBC,EAAWF,EAAKG,kBAAkBC,MAAMC,OAExCC,EAAUC,KAAKC,KAAKN,EADH,GAjCH,EAmCIO,mBAAS,GAA1BC,EAnCa,KAmCPC,EAnCO,OAoCgBF,mBAAS,CAAC,EAAE,IAAzCG,EApCa,KAoCDC,EApCC,KAqCpBC,qBAAU,WACRD,EAAc,CALO,GAKLH,EAAK,GALA,EAKsBA,EAAuB,MACjE,CAACA,IA4DJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEK,MAAM,UACNC,YAAY,iIAEd,yBAAKC,KAAK,QACR,wBAAIxD,UAAWyD,IAAcC,OAtCnBnB,EAAKG,kBAAkBC,MAAMgB,QAAO,SAACC,EAAQC,EAAMC,GA0B/D,OAzBIX,EAAW,IAAMW,GAASA,GAASX,EAAW,IAChDS,EAAOG,KACL,wBAAI/D,UAAWyD,IAAcO,KAAMC,IAAKJ,EAAKK,KAAKC,IAChD,4BACE,kBAAC,OAAD,CAAMC,GAAE,YAAcP,EAAKK,KAAKG,OAAOC,KAA/B,IAAwCtE,UAAWyD,IAAcc,WAAYV,EAAKK,KAAKM,YAAYlB,QAE7G,yBAAKtD,UAAWyD,IAAcgB,MAC5B,2CACaZ,EAAKK,KAAKM,YAAYE,KAAK,qCAAiB,IAAKb,EAAKK,KAAKS,WADxE,cAKAd,EAAKK,KAAKM,YAAYI,UACpB,kBAAC,IAAD,CAAK5E,UAAWyD,IAAcmB,SAAUxE,MAAOyD,EAAKK,KAAKM,YAAYI,SAASC,gBAAgBzE,MAAOD,IAAK0D,EAAKK,KAAKM,YAAYlB,QAGpI,kBAACwB,EAAA,EAAD,CAAKC,GAAI,EAAG/E,UAAWyD,IAAcuB,eACnC,uBAAGhF,UAAWyD,IAAcwB,SAAUpB,EAAKK,KAAKM,YAAYU,WAE9D,yBAAK1B,KAAK,UACR,kBAAC,OAAD,CAAMY,GAAE,YAAcP,EAAKK,KAAKG,OAAOC,KAA/B,KAAR,gBAKDV,IACN,KAcC,kBAAC,EAAD,CAAY5D,UAAWyD,IAAc0B,cApEzB,WAChB,IAAIC,EAAQ,GAEZA,EAAMrB,KACJ,kBAAC,EAAWlC,KAAZ,CACEwD,QAAS,kBAAMnC,EAASD,EAAO,EAAKA,EAAO,EAAIA,OAInD,IATqB,eASbqC,GACNF,EAAMrB,KACJ,kBAAC,EAAW1B,KAAZ,CACExB,OAAQyE,IAAIrC,EAAoBoC,QAAS,kBAAMnC,EAAQoC,IACvDtE,YAAY,IAEXsE,KANCA,EAAE,EAAGA,GAAGzC,EAASyC,IAAK,EAAtBA,GAcR,OALAF,EAAMrB,KACJ,kBAAC,EAAWhC,KAAZ,CACEsD,QAAS,kBAAMnC,EAASD,EAAOJ,EAAWI,EAAO,EAAMA,OAGpDmC,EA8CAG","file":"component---src-pages-stories-js-91facf2d08fd8d0918ff.js","sourcesContent":["import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport layoutStyles from \"./layout.module.css\"\n\nconst Cover = props => {\n  const imageElement = (src) => {\n    if (typeof src === 'string') {\n      // Use regular image if it's a string\n      return (<img src={src} alt=\"Cover\"/>)\n    }\n    else {\n      // You are passing a Gatsby Img object \n      return (<Img fluid={src} alt=\"Cover\"/>);\n    }\n  }\n  \n  return (\n    <div className={`${layoutStyles.cover} full-viewport-width`}>\n      { props.src && imageElement(props.src)}\n      { props.text && <h1 className=\"d-none d-sm-block\">{props.text}</h1> }\n    </div>\n  )\n};\n\nCover.defaultProps = {\n  src: null,\n  text: null\n}\n\nexport default Cover;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"stories-module--posts--81Q0Q\",\"post\":\"stories-module--post--PsGE6\",\"meta\":\"stories-module--meta--FuwQ9\",\"featured\":\"stories-module--featured--2D2x5\",\"excerpt\":\"stories-module--excerpt--Si11Z\",\"excerptMargin\":\"stories-module--excerptMargin--2XMw0\",\"pageSelector\":\"stories-module--pageSelector--tJRDG\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n/* eslint-disable react/no-multi-comp */\n\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\n\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import React, {useState, useEffect} from \"react\"\nimport { useStaticQuery, graphql, Link } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Layout from \"../components/layout/layout\"\nimport Metadata from \"../components/metadata/metadata\"\nimport Cover from \"../components/layout/cover\"\nimport storiesStyles from \"../styles/stories.module.css\"\nimport Col from \"react-bootstrap/Col\"\nimport Pagination from \"react-bootstrap/Pagination\"\n\n\nconst Stories = () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n          edges {\n            node {\n              frontmatter {\n                title\n                date(formatString: \"DD MMMM, YYYY\")\n                abstract\n                featured {\n                  childImageSharp {\n                    fluid(maxWidth: 750) {\n                      ...GatsbyImageSharpFluid\n                    }\n                  }\n                }\n              }\n              timeToRead\n              excerpt\n              id\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n  \n  const storiesN = data.allMarkdownRemark.edges.length;\n  const storiesPerPage = 4;\n  const pageMax = Math.ceil(storiesN / storiesPerPage);\n  const [page, setPage] = useState(1);\n  const [indexLimit, setIndexLimit] = useState([0,3]);\n  useEffect(() => {\n    setIndexLimit([(page-1) *storiesPerPage, ((page) *storiesPerPage)-1])\n  }, [page]);\n\n  const PageItems = () =>{\n    let Items = [];\n\n    Items.push(\n      <Pagination.Prev \n        onClick={() => setPage((page > 1)? (page - 1):(page))}\n      />\n    );\n\n    for(let i=1; i<=pageMax; i++){\n      Items.push(\n        <Pagination.Item \n          active={i===page? true : false} onClick={() => setPage(i)}\n          activeLabel=\"\"\n        >\n          {i}\n        </Pagination.Item>);\n    };\n    Items.push(\n      <Pagination.Next \n        onClick={() => setPage((page < pageMax)? (page + 1) : (page))}\n      />\n    );\n    return Items\n  };\n\n  const VisibleStories = () => {\n    const Items = data.allMarkdownRemark.edges.reduce((result, edge, index) => {\n      if (indexLimit[0] <= index && index <= indexLimit[1]){\n        result.push(\n          <li className={storiesStyles.post} key={edge.node.id}>\n            <h2>\n              <Link to={`/stories/${edge.node.fields.slug}/`} className={storiesStyles.titleLink}>{edge.node.frontmatter.title}</Link>\n            </h2>\n            <div className={storiesStyles.meta}>\n              <span>\n                Posted on {edge.node.frontmatter.date}<span> | </span>{\" \"}{edge.node.timeToRead} min read\n              </span>\n            </div>\n            {\n              edge.node.frontmatter.featured && (\n                <Img className={storiesStyles.featured} fluid={edge.node.frontmatter.featured.childImageSharp.fluid} alt={edge.node.frontmatter.title}/>\n              )\n            }\n            <Col lg={9} className={storiesStyles.excerptMargin}>\n              <p className={storiesStyles.excerpt}>{edge.node.frontmatter.abstract}</p>\n            </Col>\n            <div role=\"button\">\n              <Link to={`/stories/${edge.node.fields.slug}/`}>Read More</Link>\n            </div>\n          </li>\n        )\n      }\n      return result\n    }, []);\n    return Items\n  };\n\n  return (\n    <Layout>\n      <Metadata \n        title=\"Stories\"\n        description=\"Hope Labs publishes original interviews, inspirational stories and insightful reports about activities in the social sector.\"\n      />\n      <div role=\"main\">\n        <ul className={storiesStyles.posts}>\n          {VisibleStories()}\n        </ul>\n        <Pagination className={storiesStyles.pageSelector}>\n          {PageItems()}\n        </Pagination>\n      </div>\n    </Layout>\n  )\n}\n\nexport default Stories\n"],"sourceRoot":""}